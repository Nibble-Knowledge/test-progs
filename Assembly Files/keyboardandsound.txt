START

BASEADDRESS 19

LET *CHIP_SELECT
LET *DATA_BUS
LET *STATUS_BUS
LET A BE 0
LET B BE 0
LET WAIT BE 0
LET ZERO BE 0
LET KEY1 BE 0
LET KEY2 BE 0

*STATUS_BUS BE 0b0000

*CHIP_SELECT BE 0b0000


#read key and send to sound
LOOPWHILE A EQUALS B

*STATUS_BUS BE 0b0000

*CHIP_SELECT BE 0b0001

	LOOPWHILE WAIT EQUALS ZERO
	WAIT BE *STATUS_BUS
	WAIT BE WAIT AND 0b0010	
	ENDLOOP

WAIT BE 0

*STATUS_BUS BE 0b1000
KEY1 BE *DATA_BUS
*STATUS_BUS BE 0b0000

*STATUS_BUS BE 0b1000
KEY2 BE *DATA_BUS
*STATUS_BUS BE 0b0000

*CHIP_SELECT BE 0b0000
*STATUS_BUS BE 0b0100
*DATA_BUS BE KEY2


ENDLOOP

END