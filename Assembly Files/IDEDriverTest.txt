

INCL driver.s

LOD 18
STR 0
LOD 7
STR 1
LOD 3
STR 1

MOV16 ADDRESS INTO IDE_DRIVER.DataPtr
MOV8 SEC INTO IDE_DRIVER.SecNum
MOV16 CYL INTO IDE_DRIVER.Cyl
MOV READD INTO IDE_DRIVER.ZeroToWrite

MOVADDR RETURN INTO IDE_DRIVER.Exit[1]
LOD 0
JMP IDE_DRIVER.Enter
RETURN:
HLT

ADDRESS: .data 4 0d50000 
SEC: .data 2 0x01
CYL: .data 4 0x0000
READD: .data 1 0x1


